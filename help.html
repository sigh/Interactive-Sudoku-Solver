---
layout: null
---
<html>

<head>
  <title>Help - Interactive Sudoku Solver</title>
  <meta name="description" content="Help page for Interactive Sudoku Solver">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="icon" href="{{ 'img/favicon.png' | relative_url }}">
  <link rel="canonical" href="https://sigh.github.io/Interactive-Sudoku-Solver/help" />
  <link rel="stylesheet" href="{{ 'css/style.css?v=' | append: site.github.build_revision | relative_url }}">
  <link rel="stylesheet" href="{{ 'css/help.css?v=' | append: site.github.build_revision | relative_url }}">

  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-2SQH4BL89R"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());

    gtag('config', 'G-2SQH4BL89R');
  </script>

  <script type="module">
    // Use a VERSION_PARAM for cache busting.
    self.VERSION_PARAM = '?v=' + ('{{ site.github.build_revision }}' || Math.random());

    const helpModule = import('./js/help/help.js' + self.VERSION_PARAM);
    window.addEventListener(
      'load', async () => (await helpModule).renderHelpPage());
  </script>
</head>

<body>
  <div class="help-container">
    <div class="help-header">
      <h1>Interactive Sudoku Solver (ISS) – Help</h1>
      <a href="." class="back-link">← Back to Solver</a>
    </div>

    <!-- Table of Contents -->
    <div class="toc">
      <div class="toc-title">Contents</div>
      <ul>
        <li><a href="#overview">Overview</a></li>
        <li><a href="#categories-overview">Constraint Categories</a></li>
        <li><a href="#constraints-detail">All Constraints by Category</a></li>
        <li><a href="#recipes">Recipes</a>
          <ul>
            <li><a href="#clone">Clone</a></li>
            <li><a href="#magic-square">3x3 Magic Square</a></li>
            <li><a href="#odd-even-thermo">Odd/Even Thermo</a></li>
            <li><a href="#nabner-line">Nabner Line</a></li>
            <li><a href="#not-renban">Not Renban</a></li>
            <li><a href="#arithmetic-progression">Arithmetic Progression</a></li>
            <li><a href="#successor-arrows">Successor Arrows</a></li>
            <li><a href="#flatmates">Flatmates</a></li>
            <li><a href="#odd-even-lots">Odd/Even Lots</a></li>
            <li><a href="#general-skyscraper">General Skyscraper</a></li>
          </ul>
        </li>
        <li><a href="#constraint-sandbox">Constraint Sandbox</a></li>
      </ul>
    </div>

    <div class="help-content">
      <!-- Overview Section -->
      <h2 id="overview">Overview</h2>
      <div>
        <p>
          The Interactive Sudoku Solver (ISS) is a solver designed to quickly
          solve variant sudoku puzzles. It does not use human solving techniques,
          instead optimizing for speed.
        </p>

        <p>
          Use it to find all the solutions, count the solutions, or
          see all the valid values for each cell in a puzzle.
        </p>

        <p>
          Visit the <a href="https://github.com/sigh/Interactive-Sudoku-Solver" target="_blank">github repository</a> to
          view the source code and <a href="https://github.com/sigh/Interactive-Sudoku-Solver/issues"
            target="_blank">report bugs</a>.
        </p>
      </div>

      <!-- Categories Overview Section -->
      <h2 id="categories-overview">Constraint Categories</h2>
      <div id="categories-content"></div>

      <!-- Detailed Constraints Section -->
      <h2 id="constraints-detail">All Constraints by Category</h2>
      <div id="constraints-content"></div>

      <!-- Recipes Section -->
      <h2 id="recipes">Recipes</h2>
      <div class="recipes-content">
        <p>Some constraint types aren't directly supported but can be constructed using combinations of available
          constraints.</p>

        <h3 id="clone">Clone</h3>
        <p>
          <b>Description:</b> Two regions of the same shape and size,
          which must have the same values in corresponding cells.
        </p>
        <p>
          Use the <code>SameValueSets</code> on every pair of corresponding cells
          to mark them as equal. Each pair must be a separate constraint.
        </p>

        <h3 id="magic-square">3x3 Magic Square</h3>
        <p>
          <b>Description:</b>
          A square of cells, where the sum of the values in each row, column,
          and diagonal is the same.
        </p>
        <p>
          Use the <code>Cage</code> constrain each row, column, and diagonal to
          sum to 15.
        </p>

        <h3 id="odd-even-thermo">Odd/Even Thermo</h3>
        <p>
          <b>Description:</b>
          A thermometer (values are strictly increasing) where the values are
          either all odd or all even.
        </p>
        <p>
          Create a pairwise constraint in the "Custom JavaScript constraints"
          panel with the following condition:
        <pre>a &lt; b &amp;&amp; (a % 2 == b % 2)</pre>
        </p>

        <h3 id="nabner-line">Nabner Line</h3>
        <p>
          <b>Description:</b>
          No two digits along the line may be be consecutive.
          ("Nabner" is "Renban" spelled backwards.)
        </p>
        <p>
          Create a pairwise constraint in the "Custom JavaScript constraints"
          panel with "Chain handling" set to "All pairs" and use the following
          condition:
        </p>
        <p>
        <pre>Math.abs(a - b) &gt; 1</pre>
        </p>

        <h3 id="not-renban">Not Renban</h3>
        <p>
          <b>Description:</b>
          Unlike Nabner, this is how to create a set where all the values taken
          together are not consecutive.
        </p>

        <p>
          Implement this by configuring a state machine in the
          "Custom JavaScript constraints" panel. The NFA tracks the minimum and
          maximum values seen, accepting if <code>max - min != count - 1</code>
          (i.e., the values are not all consecutive). If you know all the
          <b>values are distinct</b>, then this is sufficient:
        <pre>
NUM_CELLS = 3;  // Number of cells in the set
startState = { min: 16, max: -1 };

function transition(state, value) {
  return {
    min: Math.min(state.min, value),
    max: Math.max(state.max, value),
  };
}

function accept(state) {
  return state.max - state.min !== NUM_CELLS - 1;
}</pre>
        </p>
        <p>
          If the values may not be distinct, then you need to also need to check
          for duplicates. This can be done efficiently by using non-deterministic
          branches to check each digit:
        <pre>
NUM_CELLS = 3;  // Number of cells in the set
startState = {type: 'start'};

function transition(state, value) {
  if (state.type === 'start') {
    return [
      { type: "rangeCheck", min: value, max: value },
      { type: "duplicateCheck", value },
    ];
  }
  if (state.type === 'rangeCheck') {
    return [{
      type: "rangeCheck",
      min: Math.min(state.min, value),
      max: Math.max(state.max, value),
    }];
  }
  if (state.type === 'duplicateCheck') {
    if (value === state.value) {
      return [{ type: 'hasDuplicate' }];
    } else {
      return [
        state,
        { type: 'duplicateCheck', value }
      ];
    }
  }
  if (state.type === 'hasDuplicate') return [state];
}

function accept(state) {
  if (state.type == 'rangeCheck') {
    return state.max - state.min !== NUM_CELLS - 1;
  }
  return (state.type === 'hasDuplicate');
}</pre>
        </p>

        <p>
          You can generalize this to a single state machine that works for any
          number of cells, but it becomes a larger and less efficient.
        </p>

        <h3 id="arithmetic-progression">Arithmetic Progression</h3>
        <p>
          <b>Description:</b>
          Digits along the line must form an arithmetic progression. That is,
          the difference between all consecutive digits is same.
        </p>

        <p>
          Implement this by configuring a state machine in the
          "Custom JavaScript constraints" panel:
        <pre>
startState = { lastVal: null, diff: null };

function transition(state, value) {
  if (state.lastVal == null) {
    return { lastVal: value, diff: null};
  }

  const diff = value - state.lastVal;

  if (state.diff == null || state.diff == diff) {
    return { lastVal: value, diff: diff };
  }
}

function accept(state) {
  return true;
}</pre>
        </p>

        <h3 id="successor-arrows">Successor Arrows</h3>
        <p>
          <b>Description:</b>
          If a digit <code>N</code> is placed in an arrow cell, the digit
          <code>N + 1</code> must appear exactly <code>N</code> cells away in the
          arrow's direction.
        </p>

        <p>
          Select the arrow cells and all the cells along the arrow's direction,
          then add a <code>Regex</code> constraint from "Line and Sets" panel.
          The regex pattern should alternate over each possible starting digit:
        </p>
        <pre>(12|2.3|3.{2}4|4.{3}5|5.{4}6|6.{5}7|7.{6}8|8.{7}9).*</pre>

        <h3 id="flatmates">Flatmates</h3>

        <p>
          <b>Description:</b>
          Generalize the "Dutch Flatmates" constraint to apply to an arbitrary
          center digit <code>D</code>, which must have either digit <code>A</code>
          above it or digit <code>B</code> below it (or both).
        </p>

        <p>
          Use a <code>Regex</code> constraint from the "Line and Sets" panel,
          applied to every column (replace <code>A</code>, <code>B</code> and
          <code>D</code>):
        </p>
        <pre>.*(AD|DB).*</pre>

        <h3 id="odd-even-lots">Odd/Even Lots</h3>

        <p>
          <b>Description:</b>
          A digit in a marked cell indicates the number of Odd/Even digits which
          appear along the attached line, including itself.
        </p>

        <p>
          Implement this by configuring a state machine in the
          "Custom JavaScript constraints" panel. Select the cells in the line
          so that the marked cell is first, the order of the rest don't matter.
          The following code implements Odd Lots, but change to the
          <code>isEven</code> function for Even Lots:
        <pre>
startState = { remaining: null };

function transition(state, value) {
  const isOdd = x => x%2 == 1;
  const isEven = x => x%2 == 0;

  let remaining = state.remaining;

  // If we are starting, then initialize the count of remaining values.
  if (remaining == null) remaining = value;

  // Update remaining count if we see a matching value.
  if (isOdd(value)) remaining = remaining - 1;

  // Only return a new state if it is valid.
  if (remaining >= 0) return { remaining: remaining };
}

function accept(state) {
  return state.remaining == 0;
}</pre>
        </p>

        <h3 id="general-skyscraper">General Skyscraper</h3>
        <p>
          <b>Description:</b>
          Generalize the skyscraper constraint to apply along any line of cells
          (for example, a diagonal).
          From the start of the line, there is a target indicate how many
          "buildings" are visible, where taller buildings block the view of
          shorter ones behind them.
        </p>
        <p>
          Implement this by configuring a state machine in the
          "Custom JavaScript constraints" panel. Change the `accept` function
          to set the target number of visible buildings:
        <pre>
startState = { max: 0, seen: 0 };

function transition(state, value) {
  return {
    max: Math.max(state.max, value),
    seen: state.seen + (value > state.max),
  }
}

function accept(state) {
  return state.seen === 5;  // Change to target number of visible buildings
}</pre>
        </p>
      </div>

      <!-- Constraint Sandbox Section -->
      <h2 id="constraint-sandbox">Constraint Sandbox</h2>
      <div>
        <p>
          For more complex constraint generation, use the
          <a href="sandbox">Constraint Sandbox</a> to write JavaScript code
          that programmatically creates constraints.
        </p>
        <p>
          The sandbox provides access to all constraint types and utility
          functions for working with cell IDs. You can generate constraints
          dynamically, parse and modify existing constraints, or create
          constraints that would be tedious to add manually.
        </p>
      </div>
    </div>
  </div>
</body>

</html>